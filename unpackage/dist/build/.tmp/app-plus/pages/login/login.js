(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0044":function(e,n,t){},"2abe":function(e,n,t){"use strict";t.r(n);var o=t("7588"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);n["default"]=i.a},"664d":function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return i})},7588:function(e,n,t){"use strict";(function(e,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(t("62f2"));function a(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{email:"",passwd:"",isShowOauth:!0,showProvider:{weixin:!0,qq:!0,sinaweibo:!0,xiaomi:!0}}},onShow:function(){},onLoad:function(){this.isShowOauth=!0,this.getProvider()},methods:{oauthLogin:function(n){e.showLoading(),e.login({provider:n,success:function(t){console.log(o("success: "+JSON.stringify(t)," at pages\\login\\login.vue:69")),e.getUserInfo({provider:n,success:function(n){console.log(o("用户信息："+JSON.stringify(n.userInfo)," at pages\\login\\login.vue:74")),e.setStorage({key:"UserInfo",data:{username:n.userInfo.nickName,face:n.userInfo.avatarUrl,signature:"个性签名",integral:0,balance:0,envelope:0},success:function(){e.hideLoading(),e.showToast({title:"登录成功",icon:"success"}),setTimeout(function(){e.navigateBack()},300)}})}})},fail:function(e){console.log(o("fail: "+JSON.stringify(e)," at pages\\login\\login.vue:97"))}})},getProvider:function(){var n=this;e.getProvider({service:"oauth",success:function(e){for(var t=e.provider.length,o=0;o<t;o++)n.showProvider[e.provider[o]]=!0;0==e.provider.length&&(n.isShowOauth=!0)}})},toPage:function(n){e.hideKeyboard(),e.navigateTo({url:n})},doLogin:function(){var n=this;return e.hideKeyboard(),/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.email)?/^(\w){6,10}$/.test(this.passwd)?(e.showLoading({title:"提交中..."}),void setTimeout(function(){var t=(0,i.default)(n.passwd);e.getStorage({key:"UserList",success:function(o){for(var i in o.data){var a=o.data[i];a.username==n.email&&(e.hideLoading(),t==o.data[i].passwd?e.showToast({title:"登录成功",icon:"success"}):e.showToast({title:"邮箱或密码不正确",icon:"none"}))}},fail:function(n){e.hideLoading(),e.showToast({title:"邮箱未注册",icon:"none"})}})},1e3)):(e.showToast({title:"密码错误",icon:"none"}),!1):(e.showToast({title:"请填写正确邮箱",icon:"none"}),!1)}}};n.default=s}).call(this,t("6e42")["default"],t("0de9")["default"])},"9a17":function(e,n,t){"use strict";var o=t("0044"),i=t.n(o);i.a},a839:function(e,n,t){"use strict";(function(e){t("590e"),t("921b");o(t("66fd"));var n=o(t("ed23"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},ed23:function(e,n,t){"use strict";t.r(n);var o=t("664d"),i=t("2abe");for(var a in i)"default"!==a&&function(e){t.d(n,e,function(){return i[e]})}(a);t("9a17");var s=t("2877"),u=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports}},[["a839","common/runtime","common/vendor"]]]);