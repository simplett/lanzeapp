(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0044":function(t,e,n){},"2abe":function(t,e,n){"use strict";n.r(e);var o=n("7588"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},7588:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("62f2"));function a(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{email:"",passwd:"",Status:"",isShowOauth:!0,showProvider:{weixin:!0,qq:!0,sinaweibo:!0,xiaomi:!0}}},onShow:function(){},onLoad:function(){this.isShowOauth=!0,this.getProvider()},methods:{oauthLogin:function(e){t.showLoading(),t.login({provider:e,success:function(n){console.log(o("success: "+JSON.stringify(n)," at pages\\login\\login.vue:70")),t.getUserInfo({provider:e,success:function(e){console.log(o("用户信息："+JSON.stringify(e.userInfo)," at pages\\login\\login.vue:75")),t.setStorage({key:"UserInfo",data:{username:e.userInfo.nickName,face:e.userInfo.avatarUrl,signature:"个性签名",integral:0,balance:0,envelope:0},success:function(){t.hideLoading(),t.showToast({title:"登录成功",icon:"success"}),setTimeout(function(){t.navigateBack()},300)}})}})},fail:function(t){console.log(o("fail: "+JSON.stringify(t)," at pages\\login\\login.vue:101"))}})},getProvider:function(){var e=this;t.getProvider({service:"oauth",success:function(t){for(var n=t.provider.length,o=0;o<n;o++)e.showProvider[t.provider[o]]=!0;0==t.provider.length&&(e.isShowOauth=!0)}})},toPage:function(e){t.hideKeyboard(),t.navigateTo({url:e})},doLogin:function(){var e=this;if(t.hideKeyboard(),!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.email))return t.showToast({title:"请填写正确邮箱",icon:"none"}),!1;if(!/^(\w){6,10}$/.test(this.passwd))return t.showToast({title:"密码错误",icon:"none"}),!1;t.showLoading({title:"提交中..."});var n={email:this.email,pwd:(0,i.default)(this.passwd)};t.request({url:"http://120.79.19.253:10086/Login",data:n,success:function(n){if(console.log(o("###################################这是登陆之后的数据",n.data," at pages\\login\\login.vue:156")),e.Status=n.data.status,1===e.Status){var i=n.data.token;t.setStorage({key:"token",data:i,success:function(){t.showToast({title:"登陆成功",position:"center",image:"../../static/img/mysuccess.png"})},fail:function(){t.showToast({title:"用户数据写入失败，建议重启本应用",position:"center",image:"../../static/img/myfail.png"})}})}else t.showToast({title:"用户名或密码有误",position:"center",image:"../../static/img/myfail.png"});e.text="request success"}})}}};e.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])},"8cad":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"9a17":function(t,e,n){"use strict";var o=n("0044"),i=n.n(o);i.a},a839:function(t,e,n){"use strict";(function(t){n("590e"),n("921b");o(n("66fd"));var e=o(n("ed23"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},ed23:function(t,e,n){"use strict";n.r(e);var o=n("8cad"),i=n("2abe");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("9a17");var s=n("2877"),u=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports}},[["a839","common/runtime","common/vendor"]]]);