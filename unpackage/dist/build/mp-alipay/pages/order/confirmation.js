(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/order/confirmation"],{"0a1c":function(t,s,i){"use strict";i.r(s);var e=i("f716"),a=i.n(e);for(var r in e)"default"!==r&&function(t){i.d(s,t,function(){return e[t]})}(r);s["default"]=a.a},"42c7":function(t,s,i){"use strict";var e=i("5d1f"),a=i.n(e);a.a},"5d1f":function(t,s,i){},"71ed":function(t,s,i){"use strict";i.r(s);var e=i("ce89"),a=i("0a1c");for(var r in a)"default"!==r&&function(t){i.d(s,t,function(){return a[t]})}(r);i("42c7");var n=i("2877"),c=Object(n["a"])(a["default"],e["a"],e["b"],!1,null,null,null);s["default"]=c.exports},b0fc:function(t,s,i){"use strict";i("6a8d");var e=r(i("71ed")),a=r(i("3a53"));function r(t){return t&&t.__esModule?t:{default:t}}e.default.mpType="page";var n=new a.default(e.default);n.$mount()},ce89:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{attrs:{_hid:0}},[i("view",{staticClass:"addr",attrs:{_hid:1},on:{tap:t.selectAddress}},[t._m(0),i("view",{staticClass:"right",attrs:{_hid:4}},[i("view",{staticClass:"tel-name",attrs:{_hid:5}},[i("view",{staticClass:"name",attrs:{_hid:6}},[t._v(t._s(t.recinfo.name),7)]),i("view",{staticClass:"tel",attrs:{_hid:8}},[t._v(t._s(t.recinfo.tel),9)])]),i("view",{staticClass:"addres",attrs:{_hid:10}},[t._v(t._s(t.recinfo.address.region.label)+"\n\t\t\t\t"+t._s(t.recinfo.address.detailed),11)])])]),i("view",{staticClass:"buy-list",attrs:{_hid:12}},t._l(t.buylist,function(s,e,a){var r=void 0!==a?a:e;return i("view",{key:e,staticClass:"row",attrs:{_hid:13,_fid:r,_fk:"index"}},[i("view",{staticClass:"goods-info",attrs:{_hid:14,_fid:r}},[i("view",{staticClass:"img",attrs:{_hid:15,_fid:r}},[i("image",{attrs:{src:s.img,_hid:16,_fid:r,_batrs:"src"}})]),i("view",{staticClass:"info",attrs:{_hid:17,_fid:r}},[i("view",{staticClass:"title",attrs:{_hid:18,_fid:r}},[t._v(t._s(s.name),19,r)]),i("view",{staticClass:"spec",attrs:{_hid:20,_fid:r}},[t._v("选择"+t._s(s.spec)+" 数量:"+t._s(s.number),21,r)]),i("view",{staticClass:"price-number",attrs:{_hid:22,_fid:r}},[i("view",{staticClass:"price",attrs:{_hid:23,_fid:r}},[t._v("￥"+t._s(s.price*s.number),24,r)]),i("view",{staticClass:"number",attrs:{_hid:25,_fid:r}})])])])])},13,t._self)),i("view",{staticClass:"order",attrs:{_hid:26}},[i("view",{staticClass:"row",attrs:{_hid:27}},[i("view",{staticClass:"left",attrs:{_hid:28}},[]),i("view",{staticClass:"right",attrs:{_hid:30}},[t._v("已扣除"+t._s(t.int)+"积分抵扣"+t._s(t._f("toFixed")(t.deduction))+"元",31)])]),i("view",{staticClass:"row",attrs:{_hid:32}},[i("view",{staticClass:"left",attrs:{_hid:33}},[]),i("view",{staticClass:"right",attrs:{_hid:35}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],attrs:{placeholder:"选填,备注内容",_hid:36},domProps:{value:t.note},on:{input:function(s){s.target.composing||(t.note=s.target.value)}}})])])]),i("view",{staticClass:"detail",attrs:{_hid:37}},[i("view",{staticClass:"row",attrs:{_hid:38}},[i("view",{staticClass:"nominal",attrs:{_hid:39}},[]),i("view",{staticClass:"content",attrs:{_hid:41}},[t._v("￥"+t._s(t._f("toFixed")(t.goodsPrice)),42)])]),i("view",{staticClass:"row",attrs:{_hid:43}},[i("view",{staticClass:"nominal",attrs:{_hid:44}},[]),i("view",{staticClass:"content",attrs:{_hid:46}},[t._v("￥+"+t._s(t._f("toFixed")(t.freight)),47)])]),i("view",{staticClass:"row",attrs:{_hid:48}},[i("view",{staticClass:"nominal",attrs:{_hid:49}},[]),i("view",{staticClass:"content",attrs:{_hid:51}},[t._v("￥-"+t._s(t._f("toFixed")(t.deduction)),52)])])]),i("view",{staticClass:"blck",attrs:{_hid:53}}),i("view",{staticClass:"footer",attrs:{_hid:54}},[i("view",{staticClass:"settlement",attrs:{_hid:55}},[i("view",{staticClass:"sum",attrs:{_hid:56}},[i("view",{staticClass:"money",attrs:{_hid:58}},[t._v("￥"+t._s(t._f("toFixed")(t.sumPrice)),59)])]),i("view",{staticClass:"btn",attrs:{_hid:60},on:{tap:t.toPay}},[])])])])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:"icon",attrs:{_hid:2}},[i("image",{attrs:{src:"../../static/img/addricon.png",mode:"true",_hid:3}})])}];i.d(s,"a",function(){return e}),i.d(s,"b",function(){return a})},f716:function(t,s,i){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={data:function(){return{buylist:[],goodsPrice:0,sumPrice:0,freight:12,note:"",int:1200,deduction:0,recinfo:{id:1,name:"大黑哥",head:"大",tel:"18816881688",address:{region:{label:"广东省-深圳市-福田区",value:[18,2,1],cityCode:"440304"},detailed:"深南大道1111号无名摩登大厦6楼A2"},isDefault:!0}}},onShow:function(){var s=this;t.getStorage({key:"buylist",success:function(t){s.buylist=t.data,s.goodsPrice=0;for(var i=s.buylist.length,e=0;e<i;e++)s.goodsPrice=s.goodsPrice+s.buylist[e].number*s.buylist[e].price;s.deduction=s.int/100,s.sumPrice=s.goodsPrice-s.deduction+s.freight}}),t.getStorage({key:"selectAddress",success:function(i){s.recinfo=i.data,t.removeStorage({key:"selectAddress"})}})},onHide:function(){},onBackPress:function(){this.clearOrder()},filters:{toFixed:function(t){return parseFloat(t).toFixed(2)}},methods:{clearOrder:function(){var s=this;t.removeStorage({key:"buylist",success:function(t){s.buylist=[],console.log("remove buylist success")}})},toPay:function(){for(var s=this,i=[],e=[],a=this.buylist.length,r=0;r<a;r++)i.push(this.buylist[r]),e.push(this.buylist[r].id);0!=i.length?(t.showLoading({title:"正在提交订单..."}),setTimeout(function(){t.setStorage({key:"paymentOrder",data:i,success:function(){t.hideLoading(),t.redirectTo({url:"../pay/payment/payment?amount="+s.sumPrice})}})},1e3)):t.showToast({title:"订单信息有误，请重新购买",icon:"none"})},selectAddress:function(){t.navigateTo({url:"../user/address/address?type=select"})}}};s.default=i}).call(this,i("c11b")["default"])}},[["b0fc","common/runtime","common/vendor"]]]);