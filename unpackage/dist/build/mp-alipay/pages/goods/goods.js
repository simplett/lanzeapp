(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/goods/goods"],{"02cb":function(t,s,i){"use strict";var a=i("2cbb"),e=i.n(a);e.a},"065d":function(t,s,i){"use strict";i.r(s);var a=i("ff68"),e=i("18b7");for(var o in e)"default"!==o&&function(t){i.d(s,t,function(){return e[t]})}(o);i("02cb");var n=i("2877"),c=Object(n["a"])(e["default"],a["a"],a["b"],!1,null,null,null);s["default"]=c.exports},"18b7":function(t,s,i){"use strict";i.r(s);var a=i("4d8e"),e=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(s,t,function(){return a[t]})}(o);s["default"]=e.a},"2cbb":function(t,s,i){},"4d8e":function(t,s,i){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={data:function(){return{beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,swiperList:[{id:1,img:"https://ae01.alicdn.com/kf/HTB1Mj7iTmzqK1RjSZFjq6zlCFXaP.jpg"},{id:2,img:"https://ae01.alicdn.com/kf/HTB1fbseTmzqK1RjSZFLq6An2XXaL.jpg"},{id:3,img:"https://ae01.alicdn.com/kf/HTB1dPUMThnaK1RjSZFtq6zC2VXa0.jpg"},{id:4,img:"https://ae01.alicdn.com/kf/HTB1OHZrTXzqK1RjSZFvq6AB7VXaw.jpg"}],currentSwiper:0,anchorlist:[],selectAnchor:0,serviceClass:"",specClass:"",shareClass:"",goodsData:{id:1,name:"商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题",price:"127.00",number:1,service:[{name:"正品保证",description:"此商品官方保证为正品"},{name:"极速退款",description:"此商品享受退货极速退款服务"},{name:"7天退换",description:"此商品享受7天无理由退换服务"}],spec:["XS","S","M","L","XL","XXL"],comment:{number:102,userface:"../../static/img/face.jpg",username:"大黑哥",content:"很不错，之前买了很多次了，很好看，能放很久，和图片色差不大，值得购买！"}},selectSpec:null,isKeep:!1,descriptionStr:'<div style="text-align:center;"><img width="100%" src="https://ae01.alicdn.com/kf/HTB1t0fUl_Zmx1VjSZFGq6yx2XXa5.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB1LzkjThTpK1RjSZFKq6y2wXXaT.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB18dkiTbvpK1RjSZPiq6zmwXXa8.jpg"/></div>'}},onLoad:function(t){this.showBack=!1,console.log(t.cid)},onReady:function(){this.calcAnchor()},onPageScroll:function(t){this.selectAnchor=t.scrollTop>=this.anchorlist[2].top?2:t.scrollTop>=this.anchorlist[1].top?1:0;var s=375;t.scrollTop=t.scrollTop>s?375:t.scrollTop,this.afterHeaderOpacity=t.scrollTop*(1/s),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=t.scrollTop>0?10:11,this.afterHeaderzIndex=t.scrollTop>0?11:10},onReachBottom:function(){t.showToast({title:"触发上拉加载"})},mounted:function(){},methods:{swiperChange:function(t){this.currentSwiper=t.detail.current},toMsg:function(){t.navigateTo({url:"../msg/msg"})},toChat:function(){t.navigateTo({url:"../msg/chat/chat?name=客服008"})},share:function(){this.shareClass="show"},hideShare:function(){var t=this;this.shareClass="hide",setTimeout(function(){t.shareClass="none"},150)},keep:function(){this.isKeep=!this.isKeep},joinCart:function(){if(null==this.selectSpec)return this.showSpec(function(){t.showToast({title:"已加入购物车"})});t.showToast({title:"已加入购物车"})},buy:function(){var t=this;if(null==this.selectSpec)return this.showSpec(function(){t.toConfirmation()});this.toConfirmation()},toRatings:function(){t.navigateTo({url:"ratings/ratings"})},toConfirmation:function(){var s=[],i={id:this.goodsData.id,img:"../../static/img/goods/p1.jpg",name:this.goodsData.name,spec:"规格:"+this.goodsData.spec[this.selectSpec],price:this.goodsData.price,number:this.goodsData.number};s.push(i),t.setStorage({key:"buylist",data:s,success:function(){t.navigateTo({url:"../order/confirmation"})}})},showComments:function(t){},setSelectSpec:function(t){this.selectSpec=t},sub:function(){this.goodsData.number<=1||this.goodsData.number--},add:function(){this.goodsData.number++},toAnchor:function(s){this.selectAnchor=s,t.pageScrollTo({scrollTop:this.anchorlist[s].top,duration:200})},calcAnchor:function(){var s=this;this.anchorlist=[{name:"主图",top:0},{name:"评价",top:0},{name:"详情",top:0}];var i=t.createSelectorQuery().select("#comments");i.boundingClientRect(function(i){var a=0,e=t.upx2px(100);s.anchorlist[1].top=i.top-e-a,s.anchorlist[2].top=i.bottom-e-a}).exec()},back:function(){t.navigateBack()},showService:function(){console.log("show"),this.serviceClass="show"},hideService:function(){var t=this;this.serviceClass="hide",setTimeout(function(){t.serviceClass="none"},200)},showSpec:function(t){console.log("show"),this.specClass="show",this.specCallback=t},specCallback:function(){},hideSpec:function(){var t=this;this.specClass="hide",this.selectSpec&&this.specCallback&&this.specCallback(),this.specCallback=!1,setTimeout(function(){t.specClass="none"},200)},discard:function(){}}};s.default=i}).call(this,i("c11b")["default"])},"92b2":function(t,s,i){"use strict";i("6a8d");var a=o(i("065d")),e=o(i("3a53"));function o(t){return t&&t.__esModule?t:{default:t}}a.default.mpType="page";var n=new e.default(a.default);n.$mount()},ff68:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{attrs:{_hid:0}},[i("view",{staticClass:"status",style:{opacity:t.afterHeaderOpacity},attrs:{_hid:1}}),i("view",{staticClass:"header",attrs:{_hid:2}},[i("view",{staticClass:"before",style:{opacity:1-t.afterHeaderOpacity,zIndex:t.beforeHeaderzIndex},attrs:{_hid:3}},[i("view",{staticClass:"back",attrs:{_hid:4}},[t._ri(!!t.showBack,5)?i("view",{staticClass:"icon xiangqian",attrs:{_hid:5},on:{tap:t.back}}):t._e()]),i("view",{staticClass:"middle",attrs:{_hid:6}}),i("view",{staticClass:"icon-btn",attrs:{_hid:7}},[i("view",{staticClass:"icon tongzhi",attrs:{_hid:8},on:{tap:t.toMsg}}),i("view",{staticClass:"icon cart",attrs:{_hid:9},on:{tap:t.joinCart}})])]),i("view",{staticClass:"after",style:{opacity:t.afterHeaderOpacity,zIndex:t.afterHeaderzIndex},attrs:{_hid:10}},[i("view",{staticClass:"back",attrs:{_hid:11}},[t._ri(!!t.showBack,12)?i("view",{staticClass:"icon xiangqian",attrs:{_hid:12},on:{tap:t.back}}):t._e()]),i("view",{staticClass:"middle",attrs:{_hid:13}},t._l(t.anchorlist,function(s,a,e){var o=void 0!==e?e:a;return i("view",{key:a,class:[t.selectAnchor==a?"on":""],attrs:{_hid:14,_fid:o,_fk:"index"},on:{tap:function(s){t.toAnchor(a)}}},[t._v(t._s(s.name),15,o)])},14,t._self)),i("view",{staticClass:"icon-btn",attrs:{_hid:16}},[i("view",{staticClass:"icon tongzhi",attrs:{_hid:17},on:{tap:t.toMsg}}),i("view",{staticClass:"icon cart",attrs:{_hid:18},on:{tap:t.joinCart}})])])]),i("view",{staticClass:"footer",attrs:{_hid:19}},[i("view",{staticClass:"icons",attrs:{_hid:20}},[i("view",{staticClass:"box",attrs:{_hid:21},on:{tap:t.share}},[i("view",{staticClass:"icon fenxiang",attrs:{_hid:22}}),i("view",{staticClass:"text",attrs:{_hid:23}},[])]),i("view",{staticClass:"box",attrs:{_hid:25},on:{tap:t.toChat}},[i("view",{staticClass:"icon kefu",attrs:{_hid:26}}),i("view",{staticClass:"text",attrs:{_hid:27}},[])]),i("view",{staticClass:"box",attrs:{_hid:29},on:{tap:t.keep}},[i("view",{staticClass:"icon",class:[t.isKeep?"shoucangsel":"shoucang"],attrs:{_hid:30}}),i("view",{staticClass:"text",attrs:{_hid:31}},[t._v(t._s(t.isKeep?"已":"")+"收藏",32)])])]),i("view",{staticClass:"btn",attrs:{_hid:33}},[i("view",{staticClass:"joinCart",attrs:{_hid:34},on:{tap:t.joinCart}},[]),i("view",{staticClass:"buy",attrs:{_hid:36},on:{tap:t.buy}},[])])]),i("view",{staticClass:"share",class:t.shareClass,attrs:{_hid:38},on:{touchmove:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)||!t._k(s.keyCode,"prevent",void 0,s.key,void 0)?t.discard(s):null},tap:t.hideShare}},[i("view",{staticClass:"mask",attrs:{_hid:39}}),i("view",{staticClass:"layer",attrs:{_hid:40},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.discard(s):null}}},[i("view",{staticClass:"h1",attrs:{_hid:41}},[]),t._m(0),i("view",{staticClass:"btn",attrs:{_hid:60},on:{tap:t.hideShare}},[])])]),i("view",{staticClass:"popup service",class:t.serviceClass,attrs:{_hid:62},on:{touchmove:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)||!t._k(s.keyCode,"prevent",void 0,s.key,void 0)?t.discard(s):null},tap:t.hideService}},[i("view",{staticClass:"mask",attrs:{_hid:63}}),i("view",{staticClass:"layer",attrs:{_hid:64},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.discard(s):null}}},[i("view",{staticClass:"content",attrs:{_hid:65}},t._l(t.goodsData.service,function(s,a,e){var o=void 0!==e?e:a;return i("view",{key:a,staticClass:"row",attrs:{_hid:66,_fid:o,_fk:"index"}},[i("view",{staticClass:"title",attrs:{_hid:67,_fid:o}},[t._v(t._s(s.name),68,o)]),i("view",{staticClass:"description",attrs:{_hid:69,_fid:o}},[t._v(t._s(s.description),70,o)])])},66,t._self)),i("view",{staticClass:"btn",attrs:{_hid:71}},[i("view",{staticClass:"button",attrs:{_hid:72},on:{tap:t.hideService}},[])])])]),i("view",{staticClass:"popup spec",class:t.specClass,attrs:{_hid:74},on:{touchmove:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)||!t._k(s.keyCode,"prevent",void 0,s.key,void 0)?t.discard(s):null},tap:t.hideSpec}},[i("view",{staticClass:"mask",attrs:{_hid:75}}),i("view",{staticClass:"layer",attrs:{_hid:76},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.discard(s):null}}},[i("view",{staticClass:"content",attrs:{_hid:77}},[i("view",{staticClass:"title",attrs:{_hid:78}},[]),i("view",{staticClass:"sp",attrs:{_hid:80}},t._l(t.goodsData.spec,function(s,a,e){var o=void 0!==e?e:a;return i("view",{key:a,class:[a==t.selectSpec?"on":""],attrs:{_hid:81,_fid:o,_fk:"index"},on:{tap:function(s){t.setSelectSpec(a)}}},[t._v(t._s(s),82,o)])},81,t._self)),t._ri(!(null==t.selectSpec),83)?i("view",{staticClass:"length",attrs:{_hid:83}},[i("view",{staticClass:"text",attrs:{_hid:84}},[]),i("view",{staticClass:"number",attrs:{_hid:86}},[i("view",{staticClass:"sub",attrs:{_hid:87},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.sub(s):null}}},[i("view",{staticClass:"icon jian",attrs:{_hid:88}})]),i("view",{staticClass:"input",attrs:{_hid:89},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.discard(s):null}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsData.number,expression:"goodsData.number"}],attrs:{type:"number",_hid:90},domProps:{value:t.goodsData.number},on:{input:function(s){s.target.composing||t.$set(t.goodsData,"number",s.target.value)}}})]),i("view",{staticClass:"add",attrs:{_hid:91},on:{tap:function(s){return"button"in s||!t._k(s.keyCode,"stop",void 0,s.key,void 0)?t.add(s):null}}},[i("view",{staticClass:"icon jia",attrs:{_hid:92}})])])]):t._e()]),i("view",{staticClass:"btn",attrs:{_hid:93}},[i("view",{staticClass:"button",attrs:{_hid:94},on:{tap:t.hideSpec}},[])])])]),i("view",{staticClass:"swiper-box",attrs:{_hid:96}},[i("swiper",{attrs:{circular:"true",autoplay:"true",_hid:97},on:{change:t.swiperChange}},t._l(t.swiperList,function(t,s,a){var e=void 0!==a?a:s;return i("swiper-item",{key:t.id,attrs:{_hid:98,_fid:e,_fk:"id"}},[i("image",{attrs:{src:t.img,_hid:99,_fid:e,_batrs:"src"}})])},98,t._self)),i("view",{staticClass:"indicator",attrs:{_hid:100}},[t._v(t._s(t.currentSwiper+1)+"/"+t._s(t.swiperList.length),101)])],1),i("view",{staticClass:"info-box goods-info",attrs:{_hid:102}},[i("view",{staticClass:"price",attrs:{_hid:103}},[t._v("￥"+t._s(t.goodsData.price),104)]),i("view",{staticClass:"title",attrs:{_hid:105}},[t._v(t._s(t.goodsData.name),106)])]),i("view",{staticClass:"info-box spec",attrs:{_hid:107}},[i("view",{staticClass:"row",attrs:{_hid:108},on:{tap:t.showService}},[i("view",{staticClass:"text",attrs:{_hid:109}},[]),i("view",{staticClass:"content",attrs:{_hid:111}},t._l(t.goodsData.service,function(s,a,e){var o=void 0!==e?e:a;return i("view",{key:a,staticClass:"serviceitem",attrs:{_hid:112,_fid:o,_fk:"index"}},[t._v(t._s(s.name),113,o)])},112,t._self)),t._m(1)]),i("view",{staticClass:"row",attrs:{_hid:116},on:{tap:function(s){t.showSpec(!1)}}},[i("view",{staticClass:"text",attrs:{_hid:117}},[]),i("view",{staticClass:"content",attrs:{_hid:119}},[i("view",{attrs:{_hid:120}},[]),i("view",{staticClass:"sp",attrs:{_hid:122}},t._l(t.goodsData.spec,function(s,a,e){var o=void 0!==e?e:a;return i("view",{key:a,class:[a==t.selectSpec?"on":""],attrs:{_hid:123,_fid:o,_fk:"index"}},[t._v(t._s(s),124,o)])},123,t._self))]),t._m(2)])]),i("view",{staticClass:"info-box comments",attrs:{id:"comments",_hid:127}},[i("view",{staticClass:"row",attrs:{_hid:128}},[i("view",{staticClass:"text",attrs:{_hid:129}},[t._v("商品评价("+t._s(t.goodsData.comment.number)+")",130)]),i("view",{staticClass:"arrow",attrs:{_hid:131},on:{tap:t.toRatings}},[i("view",{staticClass:"show",attrs:{_hid:132},on:{tap:function(s){t.showComments(t.goodsData.id)}}},[i("view",{staticClass:"icon xiangyou",attrs:{_hid:134}})])])]),i("view",{staticClass:"comment",attrs:{_hid:135},on:{tap:t.toRatings}},[i("view",{staticClass:"user-info",attrs:{_hid:136}},[i("view",{staticClass:"face",attrs:{_hid:137}},[i("image",{attrs:{src:t.goodsData.comment.userface,_hid:138,_batrs:"src"}})]),i("view",{staticClass:"username",attrs:{_hid:139}},[t._v(t._s(t.goodsData.comment.username),140)])]),i("view",{staticClass:"content",attrs:{_hid:141}},[t._v(t._s(t.goodsData.comment.content),142)])])]),i("view",{staticClass:"description",attrs:{_hid:143}},[i("view",{staticClass:"title",attrs:{_hid:144}},[]),i("view",{staticClass:"content",attrs:{_hid:146}},[i("rich-text",{attrs:{nodes:t.descriptionStr,_hid:147,_batrs:"nodes"}})],1)])])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:"list",attrs:{_hid:43}},[i("view",{staticClass:"box",attrs:{_hid:44}},[i("image",{attrs:{src:"../../static/img/share/wx.png",_hid:45}}),i("view",{staticClass:"title",attrs:{_hid:46}},[])]),i("view",{staticClass:"box",attrs:{_hid:48}},[i("image",{attrs:{src:"../../static/img/share/pyq.png",_hid:49}}),i("view",{staticClass:"title",attrs:{_hid:50}},[])]),i("view",{staticClass:"box",attrs:{_hid:52}},[i("image",{attrs:{src:"../../static/img/share/wb.png",_hid:53}}),i("view",{staticClass:"title",attrs:{_hid:54}},[])]),i("view",{staticClass:"box",attrs:{_hid:56}},[i("image",{attrs:{src:"../../static/img/share/qq.png",_hid:57}}),i("view",{staticClass:"title",attrs:{_hid:58}},[])])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:"arrow",attrs:{_hid:114}},[i("view",{staticClass:"icon xiangyou",attrs:{_hid:115}})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",{staticClass:"arrow",attrs:{_hid:125}},[i("view",{staticClass:"icon xiangyou",attrs:{_hid:126}})])}];i.d(s,"a",function(){return a}),i.d(s,"b",function(){return e})}},[["92b2","common/runtime","common/vendor"]]]);